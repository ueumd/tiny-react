<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Title</title>
	</head>
	<body>
		<script>
      /**
       super 作为函数调用时，代表父类的构造函数。ES6 要求，子类的构造函数必须执行一次 super() 函数。
       注意：作为函数时，super() 只能用在子类的构造函数之中，用在其他地方就会报错。
       */


			class Component {
				constructor(props = {}) {
          //new.target指向当前正在执行的函数
          console.log('name:', new.target.name) // Cat


					this.id = 1
					this.props = props
          this.showProps()
          this.render()
				}
				showProps() {
					console.log('Component props', this.props) // Animal props {name: 'Tom', id: 1}
				}

        setState (state) {
          this.state = Object.assign({}, this.state, state)
        }
			}

			class Cat extends Component {
				constructor(opt) {
          // super 继承父类中的属性 id & props
          // opt 传给父类中的props
					super(opt)
          this.type = 'cat'
				}

				render() {
					console.log('render: ', this.props)
				}
			}

			const cat = new Cat({ name: 'Tom', id: 1 })
			console.log('cat', cat)
      /**
       {
           id: 1
           props: {name: 'Tom', id: 1}
           type: "cat"
       }
       */
		</script>
	</body>
</html>
